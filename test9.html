<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock Test Paper 9 | ABHIMANYU LEARNING HUB</title>
    <style>
        :root { --primary: #1a237e; --secondary: #0d47a1; --accent: #ff6f00; --bg: #f5f7fa; --text: #212121; }
        * { box-sizing: border-box; -webkit-user-select: none; user-select: none; outline: none; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow-x: hidden; }
        #watermark { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-45deg); font-size: 3.5vw; color: rgba(0,0,0,0.05); pointer-events: none; z-index: 1000; white-space: nowrap; font-weight: bold; }
        .container { background: #fff; width: 95%; max-width: 850px; padding: 40px; border-radius: 15px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); position: relative; z-index: 10; min-height: 650px; border-top: 8px solid var(--primary); display: flex; flex-direction: column; }
        .screen { display: none; flex-direction: column; width: 100%; animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        h1 { color: var(--primary); text-align: center; margin: 0; font-size: 2.2rem; text-transform: uppercase; }
        .subtitle { text-align: center; color: var(--accent); margin-bottom: 40px; font-weight: bold; letter-spacing: 1.5px; }
        .btn { background: var(--primary); color: #fff; border: none; padding: 18px 50px; font-size: 1.2rem; border-radius: 50px; cursor: pointer; transition: 0.3s; margin: 20px auto; font-weight: 800; display: block; width: fit-content; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .btn:hover { background: var(--secondary); transform: translateY(-2px); }
        .exam-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #eee; }
        #timer-box { font-weight: bold; font-size: 1.3rem; color: #d32f2f; background: #ffebee; border: 2px solid #d32f2f; padding: 5px 15px; border-radius: 8px; }
        .question-text { font-size: 1.3rem; margin-bottom: 25px; line-height: 1.5; font-weight: 600; color: #1a1a1a; }
        .options { display: grid; gap: 12px; }
        .option { padding: 15px 25px; border: 2px solid #e0e0e0; border-radius: 12px; cursor: pointer; transition: 0.2s; font-size: 1.1rem; background: #fff; text-align: left; }
        .option:hover { border-color: var(--primary); background: #f0f2ff; }
        .diagram-container { background: #fafafa; border: 1px solid #ddd; border-radius: 12px; padding: 25px; margin-bottom: 20px; text-align: center; display: flex; justify-content: center; align-items: center; flex-direction: column; min-height: 250px; }
        .result-table { width: 100%; border-collapse: collapse; margin: 25px 0; font-size: 1.1rem; }
        .result-table th, .result-table td { border: 1px solid #ddd; padding: 15px; text-align: center; }
        .final-score-box { background: #f0f4f8; padding: 25px; border-radius: 10px; text-align: center; margin-bottom: 20px; border: 2px solid var(--primary); }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="watermark">© ABHIMANYU LEARNING HUB (ALH)</div>

    <div class="container">
        <div id="scr-welcome" class="screen" style="display: flex;">
            <h1>ABHIMANYU LEARNING HUB</h1>
            <div class="subtitle">PREPARE YOU FOR THE BEST RESULT</div>
            <button class="btn" onclick="switchScreen('scr-welcome', 'scr-instr')">NEXT</button>
        </div>

        <div id="scr-instr" class="screen">
            <h1>INSTRUCTIONS</h1>
            <div style="background:#f8f9fa; border-left:5px solid var(--primary); padding:25px; font-size:1.1rem; line-height:1.8;">
                1. Total Questions: 125 | Total Marks: 300<br>
                2. Section A (Maths): 50 Qs (3 Marks each)<br>
                3. Sections B, C, D: 25 Qs each (2 Marks each)<br>
                4. Time: 150 Minutes | No Negative Marking.<br>
                5. One attempt allowed. Re-attempts are blocked.
            </div>
            <button class="btn" onclick="executeStart()">START EXAM</button>
        </div>

        <div id="scr-exam" class="screen">
            <div class="exam-header">
                <div>
                    <span id="q-sec-name" style="font-weight:800; color:var(--primary); display:block;">SECTION</span>
                    <span id="q-count-text" style="color:#666;">Question 1 / 125</span>
                </div>
                <div id="timer-box">150:00</div>
            </div>
            <div class="question-text" id="q-text-area"></div>
            <div id="q-diag-area"></div>
            <div class="options" id="q-opt-area"></div>
        </div>

        <div id="scr-result" class="screen">
            <h1>EXAM COMPLETED</h1>
            <div class="final-score-box">
                <p>Correct Questions: <strong id="res-correct">0</strong> / 125</p>
                <h2>Total Marks: <span id="res-marks">0</span> / 300</h2>
            </div>
            <h3 style="text-align: center;">SECTION WISE BREAKDOWN</h3>
            <table class="result-table">
                <thead><tr style="background:var(--primary); color:#fff;"><th>Section</th><th>Correct</th><th>Marks</th></tr></thead>
                <tbody id="res-tbody"></tbody>
            </table>
        </div>
    </div>

<script>
const TEST_LOCK_KEY = "ALH_TEST_9_LOCK";
    /* ATOMIC NAVIGATION LOGIC */
    function switchScreen(hide, show) {
        document.getElementById(hide).style.display = 'none';
        document.getElementById(show).style.display = 'flex';
    }

    function executeStart() {
        if(localStorage.getItem(TEST_LOCK_KEY)) {
            alert("This test has already been completed.");
            return;
        }
        switchScreen('scr-instr', 'scr-exam');
        window.initExamEngine();
    }

    /* GLOBAL EXAM ENGINE */
    (function(){
        const DB = [
            /* MATHEMATICS 1-50 (3 Marks) */
            {s:"MATHEMATICS",q:"A farmer sold 3,845 kg of wheat in the first week and 2,967 kg in the second week. Total wheat sold?",o:["6,812 kg","6,712 kg","6,912 kg","6,612 kg"],a:0,v:3},
            {s:"MATHEMATICS",q:"Find the product: 743 x 8",o:["5,944","5,844","5,744","5,644"],a:0,v:3},
            {s:"MATHEMATICS",q:"What is the LCM of 14 and 21?",o:["42","63","84","28"],a:0,v:3},
            {s:"MATHEMATICS",q:"Simplify: 11/13 - 6/13",o:["5/13","5/26","17/13","6/13"],a:0,v:3},
            {s:"MATHEMATICS",q:"Rectangle park length 35 m, breadth 18 m. Perimeter?",o:["106 m","53 m","630 m","108 m"],a:0,v:3},
            {s:"MATHEMATICS",q:"Convert 9/5 into a mixed number.",o:["1 2/5","1 3/5","1 4/5","2 1/5"],a:2,v:3},
            {s:"MATHEMATICS",q:"What is the HCF of 35 and 49?",o:["5","7","14","35"],a:1,v:3},
            {s:"MATHEMATICS",q:"Divide: 7,236 ÷ 6 = ?",o:["1,206","1,216","1,226","1,196"],a:0,v:3},
            {s:"MATHEMATICS",q:"Basket has 200 fruits. If 3/10 are mangoes, how many mangoes?",o:["50","60","70","80"],a:1,v:3},
            {s:"MATHEMATICS",q:"Sum of two numbers is 156. If one is 89, find other.",o:["67","77","57","87"],a:0,v:3},
            {s:"MATHEMATICS",q:"[DIAGRAM] Look at the pattern. What replaces the question mark?",o:["15","16","17","18"],a:1,v:3,d:"pyramid"},
            {s:"MATHEMATICS",q:"Round off 8,765 to the nearest ten.",o:["8,760","8,770","8,800","8,700"],a:1,v:3},
            {s:"MATHEMATICS",q:"What is 35% of 200?",o:["60","65","70","75"],a:2,v:3},
            {s:"MATHEMATICS",q:"A bus covers 384 km in 8 hours. What is its speed?",o:["45 km/hr","48 km/hr","50 km/hr","52 km/hr"],a:1,v:3},
            {s:"MATHEMATICS",q:"Simplify: 56 + 24 ÷ 8 x 3",o:["65","30","62","59"],a:2,v:3},
            {s:"MATHEMATICS",q:"Product of 168 and 6 is:",o:["1,008","1,018","1,028","1,038"],a:0,v:3},
            {s:"MATHEMATICS",q:"If m = 13 and n = 7, find 3m - 4n",o:["9","10","11","12"],a:2,v:3},
            {s:"MATHEMATICS",q:"[DIAGRAM] Study the graph. On which day was the temperature highest?",o:["Monday","Tuesday","Wednesday","Friday"],a:2,v:3,d:"full_graph"},
            {s:"MATHEMATICS",q:"Convert 15 kg 400 g into grams.",o:["15,400 g","1,540 g","154,000 g","1,504 g"],a:0,v:3},
            {s:"MATHEMATICS",q:"Divisible by both 4 and 6?",o:["20","24","30","36"],a:1,v:3},
            {s:"MATHEMATICS",q:"Add: 7/11 + 6/11",o:["13/11","1 2/11","Both A and B","13/22"],a:2,v:3},
            {s:"MATHEMATICS",q:"Average of 14, 18, 22, 30, and 36:",o:["22","24","26","28"],a:1,v:3},
            {s:"MATHEMATICS",q:"Pencil box costs 45. How much for 13 boxes?",o:["575","585","595","605"],a:1,v:3},
            {s:"MATHEMATICS",q:"Place value of 6 in 456,789?",o:["6","60","600","6,000"],a:3,v:3},
            {s:"MATHEMATICS",q:"Perimeter 80 cm, length 25 cm. Breadth?",o:["12 cm","15 cm","18 cm","20 cm"],a:1,v:3},
            {s:"MATHEMATICS",q:"[DIAGRAM] Look at the clock face. What time does it show?",o:["4:45","9:45","3:45","4:15"],a:0,v:3,d:"clock_res"},
            {s:"MATHEMATICS",q:"Arrange in ascending order: 9.09, 9.9, 9.009, 9.99",o:["9.009, 9.09, 9.9, 9.99","9.99, 9.9, 9.09, 9.009","9.09, 9.009, 9.9, 9.99","9.009, 9.9, 9.09, 9.99"],a:0,v:3},
            {s:"MATHEMATICS",q:"Roman numeral for 376 is:",o:["CCCLXXVI","CCCLXVI","CCCLXXXVI","CCCXLVI"],a:0,v:3},
            {s:"MATHEMATICS",q:"Missing number: 5, 11, 23, 47, __",o:["85","91","95","99"],a:2,v:3},
            {s:"MATHEMATICS",q:"Cost of 1 liter milk is 55. Cost of 7.5 liters?",o:["402.50","412.50","422.50","432.50"],a:1,v:3},
            {s:"MATHEMATICS",q:"Vertices in a cuboid?",o:["6","8","10","12"],a:1,v:3},
            {s:"MATHEMATICS",q:"If 8p = 96, p = ?",o:["10","11","12","13"],a:2,v:3},
            {s:"MATHEMATICS",q:"Convert 5 hours 15 minutes into minutes.",o:["305","315","325","335"],a:1,v:3},
            {s:"MATHEMATICS",q:"Successor of 49,999 is:",o:["49,998","50,000","50,001","49,900"],a:1,v:3},
            {s:"MATHEMATICS",q:"Multiply: 1.2 x 0.5",o:["0.6","6.0","0.06","60"],a:0,v:3},
            {s:"MATHEMATICS",q:"7 books cost 245, cost of 12?",o:["400","410","420","430"],a:2,v:3},
            {s:"MATHEMATICS",q:"Sum of even numbers between 1 and 11:",o:["25","30","35","40"],a:1,v:3},
            {s:"MATHEMATICS",q:"What is 5/6 of 72?",o:["50","55","60","65"],a:2,v:3},
            {s:"MATHEMATICS",q:"30 erasers cost 180. Cost of one?",o:["5","6","7","8"],a:1,v:3},
            {s:"MATHEMATICS",q:"Sum of angles in a pentagon:",o:["360°","450°","540°","720°"],a:2,v:3},
            {s:"MATHEMATICS",q:"20 toys cost 800. Cost of 13?",o:["500","520","540","560"],a:1,v:3},
            {s:"MATHEMATICS",q:"Cube of 5:",o:["25","75","100","125"],a:3,v:3},
            {s:"MATHEMATICS",q:"Area of square with side 16 cm:",o:["64 sq cm","256 sq cm","128 sq cm","32 sq cm"],a:1,v:3},
            {s:"MATHEMATICS",q:"Divide 18.9 by 2.1",o:["7","8","9","10"],a:2,v:3},
            {s:"MATHEMATICS",q:"Student reads 22 pages/day. Pages in 15 days?",o:["320","330","340","350"],a:1,v:3},
            {s:"MATHEMATICS",q:"Value: (45+15) x 2",o:["110","120","130","140"],a:1,v:3},
            {s:"MATHEMATICS",q:"Millimeters in 4.8 cm?",o:["48 mm","480 mm","4.8 mm","0.48 mm"],a:0,v:3},
            {s:"MATHEMATICS",q:"Largest 2-digit prime number:",o:["91","93","97","99"],a:2,v:3},
            {s:"MATHEMATICS",q:"If x=18, y=9, find x/y + 7",o:["8","9","10","11"],a:1,v:3},
            {s:"MATHEMATICS",q:"Rope 96m long cut into 8m pieces. Total?",o:["10","11","12","13"],a:2,v:3},

            /* INTELLIGENCE 51-75 (2 Marks) */
            {s:"INTELLIGENCE",q:"Find the odd one out: 3, 9, 15, 20, 27",o:["3","9","20","27"],a:2,v:2},
            {s:"INTELLIGENCE",q:"Complete series: 10, 20, 40, 80, __",o:["120","140","160","180"],a:2,v:2},
            {s:"INTELLIGENCE",q:"If MUSIC = PXVLF, DANCE = ?",o:["GDQFH","GDQGI","GERFH","GDQEG"],a:0,v:2},
            {s:"INTELLIGENCE",q:"[DIAGRAM] Blocks in Step 4?",o:["6","7","8","9"],a:1,v:2,d:"block_step"},
            {s:"INTELLIGENCE",q:"Next: 400, 350, 300, 250, ?",o:["150","175","200","225"],a:2,v:2},
            {s:"INTELLIGENCE",q:"Missing: D, G, J, M, __",o:["N","O","P","Q"],a:2,v:2},
            {s:"INTELLIGENCE",q:"Return start from 8W, 6N, 8E?",o:["North","South","East","West"],a:1,v:2},
            {s:"INTELLIGENCE",q:"A father of B. C sister of A. D daughter of C. B to D?",o:["Sister","Cousin","Aunt","Niece"],a:1,v:2},
            {s:"INTELLIGENCE",q:"[DIAGRAM] Logic dots pattern.",o:["[●○]","[○●]","[●●]","[○○]"],a:0,v:2,d:"dots"},
            {s:"INTELLIGENCE",q:"Odd: Asia, Europe, Africa, Australia, England",o:["Asia","Europe","Australia","England"],a:3,v:2},
            {s:"INTELLIGENCE",q:"PLANT = SOKPW, WATER = ?",o:["ZBWHU","YBWGT","ZBWGT","ZBVGT"],a:2,v:2},
            {s:"INTELLIGENCE",q:"Not belong: Shirt, Trousers, Shoes, Jacket?",o:["Shirt","Trousers","Shoes","Jacket"],a:2,v:2},
            {s:"INTELLIGENCE",q:"[DIAGRAM] Squares in 3x3 grid.",o:["8","10","12","14"],a:3,v:2,d:"grid"},
            {s:"INTELLIGENCE",q:"7+8=56, 9+5=45, then 6+7=?",o:["35","42","48","54"],a:1,v:2},
            {s:"INTELLIGENCE",q:"Complete: 3B, 6D, 9F, 12H, __",o:["14J","15J","14I","16J"],a:1,v:2},
            {s:"INTELLIGENCE",q:"X > Y and Y > Z. True?",o:["X < Z","X > Z","X = Z","Z > X"],a:1,v:2},
            {s:"INTELLIGENCE",q:"[DIAGRAM] 270 deg CW rotation?",o:["Right","Left","Up","Down"],a:2,v:2,d:"arrow"},
            {s:"INTELLIGENCE",q:"Next: 6, 13, 27, 55, __",o:["101","103","109","111"],a:3,v:2},
            {s:"INTELLIGENCE",q:"CAR=36, BUS=42, then VAN=?",o:["40","41","42","43"],a:2,v:2},
            {s:"INTELLIGENCE",q:"Different: 8, 27, 64, 100, 125",o:["8","27","100","125"],a:2,v:2},
            {s:"INTELLIGENCE",q:"Priya: 10 top, 18 bottom. Total?",o:["26","27","28","29"],a:1,v:2},
            {s:"INTELLIGENCE",q:"TABLE = WDEOH, CHAIR = ?",o:["FKDLU","FKDLR","FJDLU","FKDLT"],a:0,v:2},
            {s:"INTELLIGENCE",q:"Odd pair: 4-16, 6-36, 10-90",o:["4-16","6-36","8-64","10-90"],a:3,v:2},
            {s:"INTELLIGENCE",q:"Next: B, D, G, K, P, ?",o:["U","V","W","T"],a:1,v:2},
            {s:"INTELLIGENCE",q:"Yesterday Sunday. Day after tomorrow?",o:["Tuesday","Wednesday","Thursday","Friday"],a:2,v:2},

            /* LANGUAGE 76-100 (2 Marks) */
            {s:"LANGUAGE",q:"Correct spelling:",o:["Definately","Definitely","Definitly","Definetely"],a:1,v:2},
            {s:"LANGUAGE",q:"Plural of cactus?",o:["Cactuses","Cacti","Both","Cactuss"],a:2,v:2},
            {s:"LANGUAGE",q:"Antonym: thick",o:["Fat","Thin","Heavy","Dense"],a:1,v:2},
            {s:"LANGUAGE",q:"They ____ watching a movie.",o:["is","am","are","was"],a:2,v:2},
            {s:"LANGUAGE",q:"Verb: 'Children laugh happily.'",o:["children","laugh","happily","The"],a:1,v:2},
            {s:"LANGUAGE",q:"Synonym: big",o:["Small","Tiny","Large","Little"],a:2,v:2},
            {s:"LANGUAGE",q:"Article: '___ umbrella'",o:["A","An","The","None"],a:1,v:2},
            {s:"LANGUAGE",q:"Past: catch",o:["Catched","Caught","Caughted","Catching"],a:1,v:2},
            {s:"LANGUAGE",q:"Adjective: expensive watch",o:["He","bought","expensive","watch"],a:2,v:2},
            {s:"LANGUAGE",q:"Correct: She doesn't know.",o:["She don't know.","She doesn't know.","She doesn't knows.","She not know."],a:1,v:2},
            {s:"LANGUAGE",q:"Meaning: fragile",o:["Strong","Easily broken","Heavy","Durable"],a:1,v:2},
            {s:"LANGUAGE",q:"Preposition: 'bird is ___ the tree.'",o:["in","on","at","under"],a:0,v:2},
            {s:"LANGUAGE",q:"Superlative: happy",o:["Happier","Happiest","More happy","Most happy"],a:1,v:2},
            {s:"LANGUAGE",q:"Type: 'Where are you going?'",o:["Declarative","Interrogative","Imperative","Exclamatory"],a:1,v:2},
            {s:"LANGUAGE",q:"Adverb: 'runs very fast'",o:["He","runs","very","fast"],a:2,v:2},
            {s:"LANGUAGE",q:"Opposite: empty",o:["Vacant","Full","Hollow","Blank"],a:1,v:2},
            {s:"LANGUAGE",q:"Fill: '___ useful book.'",o:["a","an","the","None"],a:0,v:2},
            {s:"LANGUAGE",q:"Punctuation:",o:["She said I am happy","She said, 'I am happy.'","She said I am happy.","She said 'I am happy'"],a:1,v:2},
            {s:"LANGUAGE",q:"Conjunction: smart but lazy.",o:["smart","smart","but","lazy"],a:2,v:2},
            {s:"LANGUAGE",q:"Correct: mischievous",o:["Mischievous","Mischievious","Mischevious","Mischeivous"],a:0,v:2},
            {s:"LANGUAGE",q:"Feminine of bachelor?",o:["Bachelorette","Spinster","Maiden","All"],a:3,v:2},
            {s:"LANGUAGE",q:"Conjunction: hard ___ fail.",o:["and","but","or","so"],a:2,v:2},
            {s:"LANGUAGE",q:"Synonym: calm",o:["Agitated","Peaceful","Angry","Worried"],a:1,v:2},
            {s:"LANGUAGE",q:"Plural of foot?",o:["Foots","Feet","Footes","Feets"],a:1,v:2},
            {s:"LANGUAGE",q:"Identify preposition: 'jumped over the fence'",o:["jumped","over","the","fence"],a:1,v:2},

            /* GK 101-125 (2 Marks) */
            {s:"GENERAL KNOWLEDGE",q:"Invented steam engine?",o:["James Watt","Edison","Tesla","Stephenson"],a:0,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Capital of Kerala?",o:["Kochi","Thiruvananthapuram","Kozhikode","Kollam"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"White in flag?",o:["Courage","Peace and truth","Fertility","Sacrifice"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Planet 'Giant Planet'?",o:["Saturn","Jupiter","Uranus","Neptune"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Author of 'Jungle Book'?",o:["Narayan","Kipling","Dahl","Carroll"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Dance from Kerala?",o:["Bharatanatyam","Kathak","Kathakali","Odissi"],a:2,v:2},
            {s:"GENERAL KNOWLEDGE",q:"National game of China?",o:["Football","Table Tennis","Badminton","Cricket"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Saltiest sea?",o:["Red Sea","Black Sea","Dead Sea","Arabian Sea"],a:2,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Full form WWW?",o:["World Wide Web","Weather Watch","Western Web","Wide Web"],a:0,v:2},
            {s:"GENERAL KNOWLEDGE",q:"'Pearl City' of India?",o:["Mumbai","Hyderabad","Vizag","Chennai"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"'Bard of Avon'?",o:["Wordsworth","Shakespeare","Keats","Byron"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Indigenous aircraft carrier?",o:["INS Vikrant","INS Vikramaditya","INS Arihant","INS Chakra"],a:0,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Year India won first Cricket WC?",o:["1975","1983","1987","1992"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"River 'Dakshin Ganga'?",o:["Krishna","Godavari","Kaveri","Narmada"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Capital of Canada?",o:["Toronto","Vancouver","Ottawa","Montreal"],a:2,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Discovered radium?",o:["Marie Curie","Einstein","Newton","Galileo"],a:0,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Organ controls smell?",o:["Eyes","Nose","Tongue","Ears"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Ribs in human body?",o:["20","22","24","26"],a:2,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Symbol for Gold?",o:["Go","Gd","Au","Ag"],a:2,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Coldest planet?",o:["Neptune","Uranus","Pluto","Saturn"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Bangladesh anthem author?",o:["Nazrul Islam","Tagore","Rahman","Das"],a:1,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Environment Day date?",o:["5th June","5th July","22nd April","16th Sept"],a:0,v:2},
            {s:"GENERAL KNOWLEDGE",q:"What is dry ice?",o:["Solid oxygen","Solid nitrogen","Solid CO2","Solid hydrogen"],a:2,v:2},
            {s:"GENERAL KNOWLEDGE",q:"First Indian woman in space?",o:["Kalpana Chawla","Sunita Williams","Indira Gandhi","Pratibha Patil"],a:0,v:2},
            {s:"GENERAL KNOWLEDGE",q:"Strings on violin?",o:["4","5","6","7"],a:0,v:2}
        ];

        let curIdx = 0, score = 0, tVal = 150 * 60, tInt = null;
        let stats = { "MATHEMATICS": {c:0, m:0}, "INTELLIGENCE": {c:0, m:0}, "LANGUAGE": {c:0, m:0}, "GENERAL KNOWLEDGE": {c:0, m:0} };

        window.initExamEngine = function() {
            loadQ();
            tInt = setInterval(() => {
                tVal--;
                document.getElementById('timer-box').innerText =
`${Math.floor(tVal/60)}:${String(tVal % 60).padStart(2, '0')}`;
                if(tVal <= 0) endTest();
            }, 1000);
        };

        function loadQ() {
            const q = DB[curIdx];
            document.getElementById('q-sec-name').innerText = q.s;
            document.getElementById('q-count-text').innerText = `Question ${curIdx + 1} / 125`;
            document.getElementById('q-text-area').innerText = q.q;
            const d = document.getElementById('q-diag-area');
            d.innerHTML = "";
            if(q.d) {
                d.className = "diagram-container";
                if(q.d === "pyramid") d.innerHTML = `<svg width="240" height="150" viewBox="0 0 240 150"><text x="120" y="30" font-size="18" text-anchor="middle" font-weight="bold">2</text><text x="95" y="60" font-size="18">4 6</text><text x="75" y="90" font-size="18">8 10 12</text><text x="120" y="120" font-size="22" text-anchor="middle" fill="red" font-weight="bold">14 ? 16 17</text></svg>`;
                else if(q.d === "full_graph") d.innerHTML = `<svg width="320" height="200" viewBox="0 0 320 200"><line x1="40" y1="160" x2="300" y2="160" stroke="#000" stroke-width="2"/><line x1="40" y1="160" x2="40" y2="20" stroke="#000" stroke-width="2"/><polyline points="40,140 90,100 140,40 190,90 240,140" fill="none" stroke="#d32f2f" stroke-width="3"/><circle cx="40" cy="140" r="4"/><circle cx="90" cy="100" r="4"/><circle cx="140" cy="40" r="5" fill="#1a237e"/><circle cx="190" cy="90" r="4"/><circle cx="240" cy="140" r="4"/><text x="40" y="175" font-size="10">Mon</text><text x="90" y="175" font-size="10">Tue</text><text x="140" y="175" font-size="10" font-weight="bold" fill="red">Wed</text><text x="190" y="175" font-size="10">Thu</text><text x="240" y="175" font-size="10">Fri</text><text x="140" y="30" font-size="10" text-anchor="middle">30°C</text></svg>`;
                else if(q.d === "clock_res") d.innerHTML = `<svg width="180" height="180" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="none" stroke="#000" stroke-width="2"/><line x1="50" y1="50" x2="50" y2="80" stroke="#1a237e" stroke-width="3" transform="rotate(120, 50, 50)"/><line x1="50" y1="50" x2="50" y2="15" stroke="#ff6f00" stroke-width="1.5" transform="rotate(270, 50, 50)"/><text x="50" y="12" font-size="6" text-anchor="middle">12</text><text x="88" y="52" font-size="6">3</text><text x="50" y="93" font-size="6" text-anchor="middle">6</text><text x="7" y="52" font-size="6">9</text></svg>`;
                else if(q.d === "block_step") d.innerHTML = `<div style="display:flex; gap:20px; align-items:flex-end;"><div style="text-align:center;">1<br><div style="width:20px; height:20px; background:blue;"></div></div><div style="text-align:center;">2<br><div style="display:flex; flex-direction:column; gap:2px;"><div style="width:20px; height:20px; background:blue;"></div><div style="width:20px; height:20px; background:blue;"></div><div style="width:20px; height:20px; background:blue;"></div></div></div><div style="text-align:center;">3<br><div style="display:flex; flex-direction:column; gap:2px;"><div style="width:20px; height:20px; background:blue;"></div><div style="width:20px; height:20px; background:blue;"></div><div style="width:20px; height:20px; background:blue;"></div><div style="width:20px; height:20px; background:blue;"></div><div style="width:20px; height:20px; background:blue;"></div></div></div><div style="text-align:center;">4<br><div style="font-size:24px; color:red; font-weight:bold;">?</div></div></div>`;
                else if(q.d === "dots") d.innerHTML = `<div style="font-size:2rem; letter-spacing:10px; border:1px solid #ccc; padding:10px; border-radius:10px;">[●○] [○●] [●○] [○●] [ ? ]</div>`;
                else if(q.d === "grid") d.innerHTML = `<svg width="150" height="150" viewBox="0 0 100 100"><rect x="5" y="5" width="90" height="90" fill="none" stroke="#000" stroke-width="1"/><line x1="5" y1="35" x2="95" y2="35" stroke="#000"/><line x1="5" y1="65" x2="95" y2="65" stroke="#000"/><line x1="35" y1="5" x2="35" y2="95" stroke="#000"/><line x1="65" y1="5" x2="65" y2="95" stroke="#000"/></svg>`;
                else if(q.d === "arrow") d.innerHTML = `<div style="font-size:3rem; font-weight:bold; border:1px dashed #primary; padding:20px; border-radius:50%;">↑ → ↓ <span style="color:red">?</span></div>`;
            } else { d.className = ""; }

            const optArea = document.getElementById('q-opt-area');
            optArea.innerHTML = "";
            q.o.forEach((opt, i) => {
                const b = document.createElement('div');
                b.className = 'option';
                b.innerText = `${String.fromCharCode(65+i)}. ${opt}`;
                b.onclick = () => {
                    if(i === q.a) { score += q.v; stats[q.s].c++; stats[q.s].m += q.v; }
                    curIdx++;
                    if(curIdx < DB.length) loadQ(); else endTest();
                };
                optArea.appendChild(b);
            });
        }

        function endTest() {
            clearInterval(tInt);
            localStorage.setItem(TEST_LOCK_KEY, '1');
            document.getElementById('scr-exam').style.display = 'none';
            document.getElementById('scr-result').style.display = 'flex';
            let tc = 0; for(let s in stats) tc += stats[s].c;
            document.getElementById('res-correct').innerText = tc;
            document.getElementById('res-marks').innerText = score;
            const tbody = document.getElementById('res-tbody');
            tbody.innerHTML = "";
            ["MATHEMATICS", "INTELLIGENCE", "LANGUAGE", "GENERAL KNOWLEDGE"].forEach(s => {
                let r = tbody.insertRow();
                r.insertCell(0).innerText = s;
                r.insertCell(1).innerText = stats[s].c;
                r.insertCell(2).innerText = stats[s].m;
            });
        }
    })();
if (localStorage.getItem(TEST_LOCK_KEY)) {
    document.getElementById('scr-welcome').style.display = 'none';
    document.getElementById('scr-instr').style.display = 'none';
    document.getElementById('scr-exam').style.display = 'none';
    document.getElementById('scr-result').style.display = 'none';

    alert("This test has already been completed.");
}

</script>
</body>
</html>