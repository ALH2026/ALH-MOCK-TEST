<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AISSEE Mock Test - Abhimanyu Learning Hub</title>
    <style>
        :root { --primary: #1a237e; --secondary: #c62828; --bg: #f4f4f9; }
        * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: var(--bg); margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; user-select: none; }
        #watermark { position: fixed; bottom: 20px; right: 20px; opacity: 0.15; font-weight: bold; color: var(--primary); z-index: 1000; pointer-events: none; }
        .container { width: 100%; max-width: 850px; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); position: relative; }
        header { border-bottom: 3px solid var(--primary); margin-bottom: 20px; padding-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        .timer { color: var(--secondary); font-weight: bold; font-size: 20px; background: #ffebee; padding: 5px 15px; border-radius: 5px; }
        .screen { display: none; }
        .screen.active { display: block; }
        .btn { background: var(--primary); color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer; font-size: 16px; }
        .diag-box { text-align: center; margin: 15px 0; padding: 10px; background: #fdfdfd; border: 1px solid #eee; }
        .question-text { font-size: 18px; margin-bottom: 20px; font-weight: 600; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .option { padding: 12px; border: 2px solid #eee; border-radius: 8px; cursor: pointer; }
        .option:hover { border-color: var(--primary); background: #f0f2ff; }
        .option.selected { background: var(--primary); color: white; }
        .section-tag { background: var(--secondary); color: white; padding: 4px 10px; border-radius: 4px; font-size: 12px; }
        .progress { height: 8px; background: #eee; border-radius: 4px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    </style>
</head>
<body oncontextmenu="return false;">

<div id="watermark">© Abhimanyu Learning Hub (ALH)</div>

<div class="container">
    <div id="welcome-screen" class="screen active">
        <h1>AISSEE Mock Test - Set 1</h1>
        <p>Abhimanyu Learning Hub | Entrance Excellence</p>
        <input type="text" id="user-name" style="width:100%; padding:12px; margin:20px 0;" placeholder="Student Full Name">
        <button class="btn" onclick="startInstructions()">Enter Exam</button>
    </div>

    <div id="instruction-screen" class="screen">
        <h2>Instructions</h2>
        <ul>
            <li>Total Time: 150 Minutes (2.5 Hours)</li>
            <li>Mathematics: 50 Qs (3 Marks each)</li>
            <li>Reasoning, English, GK: 25 Qs each (2 Marks each)</li>
            <li>No Negative Marking.</li>
        </ul>
        <button class="btn" onclick="startExam()">Start Test Now</button>
    </div>

    <div id="exam-screen" class="screen">
        <header>
            <div id="section-label"></div>
            <div class="timer" id="timer-display">150:00</div>
        </header>
        <div class="progress"><div class="progress-fill" id="progress-fill"></div></div>
        <div id="diagram-area" class="diag-box"></div>
        <div class="question-text" id="q-text"></div>
        <div class="options-grid" id="options-area"></div>
    </div>

    <div id="result-screen" class="screen">
        <h1>Test Result</h1>
        <h2 id="res-name"></h2>
        <div style="font-size: 24px; color: var(--primary); margin: 20px 0;">Total Marks: <span id="res-score"></span> / 300</div>
        <table id="breakdown-table">
            <thead><tr><th>Section</th><th>Score</th></tr></thead>
            <tbody id="res-body"></tbody>
        </table>
        <button class="btn" onclick="alert('Printing disabled')">Print Result</button>

    </div>
</div>

<script>
const TEST_LOCK_KEY = "ALH_TEST_1_LOCK";

document.addEventListener('keydown', e => {
    if (e.ctrlKey && ['c','v','u','s'].includes(e.key.toLowerCase())) {
        e.preventDefault();
    }
});

const sections = ["Mathematics", "Reasoning", "English", "General Knowledge"];
    
    // FULL 125 QUESTION DATABASE MAPPED FROM SOURCE
    const _db = [
        // MATHS (Q1-50) - 3 Marks Each
        { q: "If 248 x 37 = 9176, then 248 x 370 = ?", o: ["91760", "917600", "9176000", "91706"], a: 0, s: 0 },
        { q: "Sum of two numbers is 845 and difference is 123. Larger number?", o: ["484", "494", "474", "464"], a: 0, s: 0 },
        { q: "Value of: 2456 ÷ 8 + 145 x 3", o: ["742", "752", "762", "772"], a: 2, s: 0 },
        { q: "Total profit: 240 notebooks bought at 15 each, sold at 18 each.", o: ["620", "720", "820", "920"], a: 1, s: 0 },
        { q: "LCM of 12, 15, and 20 is:", o: ["60", "120", "180", "240"], a: 0, s: 0 },
        { q: "Perimeter of rectangle (Length 12cm, Width 7cm)?", o: ["38 cm", "19 cm", "84 cm", "42 cm"], a: 0, s: 0, d: '<svg width="150" height="80"><rect x="10" y="10" width="100" height="50" fill="none" stroke="black"/><text x="40" y="25">12cm</text><text x="115" y="40">7cm</text></svg>' },
        { q: "If 5/8 of a number is 320, what is the number?", o: ["512", "500", "480", "528"], a: 0, s: 0 },
        { q: "Product of 204 and 98 is approximately:", o: ["19000", "20000", "21000", "22000"], a: 1, s: 0 },
        { q: "Average speed of train (450 km in 6 hours):", o: ["65 km/h", "70 km/h", "75 km/h", "80 km/h"], a: 2, s: 0 },
        { q: "HCF of 48, 72, and 96 is:", o: ["12", "24", "36", "48"], a: 1, s: 0 },
        { q: "Area of triangle (Base 14cm, Height 8cm)?", o: ["56 sq cm", "112 sq cm", "22 sq cm", "44 sq cm"], a: 0, s: 0, d: '<svg width="100" height="80"><path d="M50 10 L10 70 L90 70 Z" fill="none" stroke="black"/><line x1="50" y1="10" x2="50" y2="70" stroke-dasharray="2"/><text x="55" y="40">8</text><text x="40" y="80">14</text></svg>' },
        { q: "What is 15% of 840?", o: ["116", "126", "136", "146"], a: 1, s: 0 },
        { q: "If a=6, b=4, then value of 3a + 2b - 5?", o: ["21", "23", "25", "27"], a: 0, s: 0 },
        { q: "Sum of first 10 natural numbers:", o: ["45", "50", "55", "60"], a: 2, s: 0 },
        { q: "Area of field 85m long and 65m wide:", o: ["5425 sq m", "5525 sq m", "5625 sq m", "5725 sq m"], a: 1, s: 0 },
        { q: "How many squares are in a 2x2 grid?", o: ["4", "5", "6", "7"], a: 1, s: 0, d: '<svg width="60" height="60"><rect x="10" y="10" width="40" height="40" stroke="black" fill="none"/><line x1="10" y1="30" x2="50" y2="30" stroke="black"/><line x1="30" y1="10" x2="30" y2="50" stroke="black"/></svg>' },
        { q: "If 3x + 7 = 28, then x = ?", o: ["5", "6", "7", "8"], a: 2, s: 0 },
        { q: "Average of 24, 36, 42, and 50:", o: ["36", "38", "40", "42"], a: 1, s: 0 },
        { q: "Minutes in 4 hours 45 minutes:", o: ["275", "285", "295", "305"], a: 1, s: 0 },
        { q: "Ratio of 2.5 kg to 750 g:", o: ["5:3", "10:3", "15:4", "20:3"], a: 1, s: 0 },
        { q: "Diameter of circle with radius 7 cm:", o: ["7 cm", "14 cm", "21 cm", "28 cm"], a: 1, s: 0, d:'<svg width="60" height="60"><circle cx="30" cy="30" r="25" stroke="black" fill="none"/><line x1="30" y1="30" x2="55" y2="30" stroke="black"/></svg>'},
        { q: "Smallest 4-digit number divisible by 15:", o: ["1000", "1005", "1010", "1015"], a: 1, s: 0 },
        { q: "Cost of 5 pens if 8 pens cost 120:", o: ["65", "70", "75", "80"], a: 2, s: 0 },
        { q: "Value of: (18 x 25) - (360 ÷ 12)", o: ["420", "430", "440", "450"], a: 0, s: 0 },
        { q: "Place value of 7 in 87,634:", o: ["7", "70", "700", "7000"], a: 3, s: 0 },
        { q: "Number of triangles in a square with both diagonals drawn?", o: ["4", "6", "8", "10"], a: 2, s: 0, d: '<svg width="60" height="60"><rect x="10" y="10" width="40" height="40" stroke="black" fill="none"/><line x1="10" y1="10" x2="50" y2="50" stroke="black"/><line x1="50" y1="10" x2="10" y2="50" stroke="black"/></svg>'},
        { q: "If 25% of a number is 85, then 50% is:", o: ["160", "170", "180", "190"], a: 1, s: 0 },
        { q: "Difference between largest 4-digit and smallest 3-digit number:", o: ["9799", "9899", "9999", "9889"], a: 1, s: 0 },
        { q: "Speed of car (324 km in 4.5 hours):", o: ["68 km/h", "70 km/h", "72 km/h", "74 km/h"], a: 2, s: 0 },
        { q: "Fraction of 2 hours is 45 minutes:", o: ["3/8", "5/8", "3/4", "1/4"], a: 0, s: 0 },
        { q: "Sum of 3.75 + 2.8 + 5.125:", o: ["11.675", "11.575", "11.775", "11.475"], a: 0, s: 0 },
        { q: "If Monday is 5th, what day is 26th?", o: ["Monday", "Tuesday", "Wednesday", "Thursday"], a: 0, s: 0 },
        { q: "Next in series: 3, 9, 27, 81, ?", o: ["162", "243", "324", "405"], a: 1, s: 0 },
        { q: "Ratio of apples (45) to total fruit (45 apples + 75 oranges):", o: ["3:8", "3:5", "5:8", "2:5"], a: 0, s: 0 },
        { q: "Value of 2/5 + 3/10:", o: ["5/10", "7/10", "8/10", "9/10"], a: 1, s: 0 },
        { q: "Area of square with side 13 cm:", o: ["156 sq cm", "169 sq cm", "182 sq cm", "195 sq cm"], a: 1, s: 0 },
        { q: "Cost of 20 bananas if a dozen cost 72:", o: ["100", "110", "120", "130"], a: 2, s: 0 },
        { q: "Value of: 15² - 12²", o: ["81", "91", "101", "111"], a: 0, s: 0 },
        { q: "Distance from start: 4km North, then 3km East:", o: ["5 km", "6 km", "7 km", "8 km"], a: 0, s: 0 },
        { q: "Even numbers between 25 and 75:", o: ["24", "25", "26", "27"], a: 1, s: 0 },
        { q: "Simple Interest on 800 for 2 years at 5%:", o: ["70", "80", "90", "100"], a: 1, s: 0 },
        { q: "Value of: 480 ÷ 16 x 5", o: ["150", "140", "160", "170"], a: 0, s: 0 },
        { q: "Pole length: 3/7 mud, 2/7 water, 6m above:", o: ["18 m", "21 m", "24 m", "27 m"], a: 1, s: 0 },
        { q: "LCM if product is 1536 and HCF is 16:", o: ["96", "192", "384", "Det."], a: 0, s: 0 },
        { q: "Angle between hands at 3:15?", o: ["0°", "7.5°", "15°", "22.5°"], a: 1, s: 0 },
        { q: "Value of: 5 + 5 x 5 - 5 ÷ 5", o: ["29", "30", "31", "32"], a: 0, s: 0 },
        { q: "Cost of 8 kg rice if 5 kg costs 275:", o: ["420", "430", "440", "450"], a: 2, s: 0 },
        { q: "Type of triangle with sides 5, 12, 13 cm:", o: ["Acute", "Right", "Obtuse", "Equi."], a: 1, s: 0 },
        { q: "Median of: 14, 18, 22, 26, 30, 34, 38:", o: ["22", "26", "30", "34"], a: 1, s: 0 },
        { q: "Volume of tank 8m x 6m x 4m:", o: ["182 cu m", "192 cu m", "202 cu m", "212 cu m"], a: 1, s: 0 },

        // REASONING (Q51-75) - 2 Marks Each
        { q: "Which completes the pattern: ○ △ □ ○ ?", o: ["Square", "Circle", "Triangle", "Dot"], a: 2, s: 1 },
        { q: "If BOOK is CPPL, then DESK is:", o: ["EFTL", "EGTL", "EFTK", "EFSM"], a: 0, s: 1 },
        { q: "Number of rectangles in a 1x2 grid?", o: ["2", "3", "4", "5"], a: 1, s: 1, d: '<svg width="60" height="30"><rect x="5" y="5" width="50" height="20" stroke="black" fill="none"/><line x1="30" y1="5" x2="30" y2="25" stroke="black"/></svg>' },
        { q: "Odd one out: 11, 13, 17, 19, 21, 23", o: ["11", "17", "21", "23"], a: 2, s: 1 },
        { q: "What is next: A, C, E, G, ?", o: ["I", "J", "H", "K"], a: 0, s: 1 },
        { q: "Value of CAT if A=1, B=2...?", o: ["24", "26", "28", "30"], a: 0, s: 1 },
        { q: "Mirror image of 'F'?", o: ["F", "flipped-F", "E", "mirror-F"], a: 3, s: 1 },
        { q: "Series: 2, 6, 12, 20, 30, ?", o: ["40", "42", "44", "46"], a: 1, s: 1 },
        { q: "Paper fold: Square folded diagonally makes a:", o: ["Triangle", "Rect.", "Square", "Pent."], a: 0, s: 1 },
        { q: "Missing: 7, 14, 28, 56, ?", o: ["84", "96", "112", "128"], a: 2, s: 1 },
        { q: "Dice opposite of 3 in standard dice?", o: ["2", "3", "4", "5"], a: 2, s: 1 },
        { q: "If SE becomes North, West becomes:", o: ["NE", "SE", "NW", "SW"], a: 1, s: 1 },
        { q: "Next in series: 10, 20, 30, 40, ?", o: ["50", "60", "70", "80"], a: 0, s: 1 },
        { q: "Odd one out: Apple, Mango, Potato, Banana", o: ["Apple", "Mango", "Potato", "Banana"], a: 2, s: 1 },
        { q: "Opposite of 1 in standard dice cube?", o: ["6", "5", "4", "3"], a: 0, s: 1 },
        { q: "If FLOWER is 36 (6 letters squared), PLANT is:", o: ["25", "30", "35", "40"], a: 0, s: 1 },
        { q: "Triangles in a 5-pointed star?", o: ["5", "6", "8", "10"], a: 3, s: 1, d: '<polygon points="50,5 20,90 95,35 5,35 80,90" fill="none" stroke="black" transform="scale(0.5)"/>' },
        { q: "Doctor:Hospital :: Teacher: ?", o: ["Student", "School", "Book", "Edu."], a: 1, s: 1 },
        { q: "Top view of a cylinder?", o: ["Circle", "Rect.", "Square", "Tri."], a: 0, s: 1 },
        { q: "Series: 6, 11, 21, 36, 56, ?", o: ["76", "81", "86", "91"], a: 1, s: 1 },
        { q: "Next letter in: A, B, D, G, ?", o: ["H", "I", "K", "L"], a: 2, s: 1 },
        { q: "Odd one: Car, Bus, Train, Aeroplane, Boat", o: ["Car", "Train", "Aero.", "Boat"], a: 2, s: 1 },
        { q: "Water image of 'RISE'?", o: ["RISE", "Inverted", "ESIR", "Back"], a: 1, s: 1 },
        { q: "If + is x, - is +, x is /, / is -, what is 15 + 3 - 12 x 4 / 2?", o: ["46", "52", "56", "60"], a: 2, s: 1 },
        { q: "Complete: 1, 4, 9, 16, 25, 36, ?", o: ["42", "45", "49", "54"], a: 2, s: 1 },

        // ENGLISH (Q76-100) - 2 Marks Each
        { q: "Correct spelling:", o: ["Occassion", "Occasion", "Ocasion", "Occacion"], a: 1, s: 2 },
        { q: "Synonym of BRAVE:", o: ["Coward", "Fearful", "Courageous", "Weak"], a: 2, s: 2 },
        { q: "Antonym of ANCIENT:", o: ["Old", "Modern", "Historic", "Trad."], a: 1, s: 2 },
        { q: "She ___ to school every day.", o: ["go", "goes", "going", "gone"], a: 1, s: 2 },
        { q: "Identify Noun: The children played happily.", o: ["played", "happily", "children", "in"], a: 2, s: 2 },
        { q: "I saw ___ elephant at the zoo.", o: ["a", "an", "the", "no"], a: 1, s: 2 },
        { q: "Plural of Child:", o: ["Childs", "Childes", "Children", "Childrens"], a: 2, s: 2 },
        { q: "Correct sentence:", o: ["He don't", "He doesn't likes", "He doesn't like", "He don't likes"], a: 2, s: 2 },
        { q: "Idiom 'Blessing in disguise':", o: ["Hidden treasure", "Good seems bad", "Secret gift", "Disguise"], a: 1, s: 2 },
        { q: "The book is ___ the table.", o: ["in", "on", "at", "by"], a: 1, s: 2 },
        { q: "Identify Verb: The birds sing sweetly.", o: ["birds", "sing", "sweetly", "morning"], a: 1, s: 2 },
        { q: "Opposite of DIFFICULT:", o: ["Hard", "Tough", "Easy", "Complex"], a: 2, s: 2 },
        { q: "Adjective: The beautiful flowers bloomed.", o: ["flowers", "beautiful", "bloomed", "the"], a: 1, s: 2 },
        { q: "Passive: Ram writes a letter.", o: ["Letter is written", "Letter was written", "Has been", "Will be"], a: 0, s: 2 },
        { q: "Punctuation: Where are you going_", o: [".", "?", "!", ","], a: 1, s: 2 },
        { q: "Conjunction: I like tea and coffee.", o: ["I", "like", "and", "coffee"], a: 2, s: 2 },
        { q: "Comparative of Good:", o: ["Gooder", "More good", "Better", "Best"], a: 2, s: 2 },
        { q: "Pronoun: She gave me her book.", o: ["gave", "She", "book", "All"], a: 1, s: 2 },
        { q: "If I ___ rich, I would travel.", o: ["am", "was", "were", "be"], a: 2, s: 2 },
        { q: "Adverb: He runs quickly.", o: ["He", "runs", "quickly", "None"], a: 2, s: 2 },
        { q: "Error: Neither of the boys have...", o: ["Neither", "have", "their", "No error"], a: 1, s: 2 },
        { q: "Synonym of INTELLIGENT:", o: ["Foolish", "Smart", "Dull", "Stupid"], a: 1, s: 2 },
        { q: "She is ___ intelligent than her sister.", o: ["more", "most", "much", "many"], a: 0, s: 2 },
        { q: "Type: What a beautiful painting!", o: ["Dec.", "Interr.", "Imp.", "Exclam."], a: 3, s: 2 },
        { q: "The ___ of the story was interesting.", o: ["tale", "tail", "tell", "tall"], a: 0, s: 2 },

        // GK (Q101-125) - 2 Marks Each
        { q: "Current President of India (2024)?", o: ["Kovind", "Murmu", "Pranab", "Kalam"], a: 1, s: 3 },
        { q: "Capital of Australia:", o: ["Sydney", "Melbourne", "Canberra", "Perth"], a: 2, s: 3 },
        { q: "Red Planet:", o: ["Venus", "Mars", "Jupiter", "Saturn"], a: 1, s: 3 },
        { q: "Who wrote Malgudi Days?", o: ["Bond", "Narayan", "Tagore", "Premchand"], a: 1, s: 3 },
        { q: "Taj Mahal is in:", o: ["Delhi", "Agra", "Jaipur", "Lucknow"], a: 1, s: 3 },
        { q: "Largest Ocean:", o: ["Atlantic", "Indian", "Arctic", "Pacific"], a: 3, s: 3 },
        { q: "Father of Nation (India):", o: ["Nehru", "Gandhi", "Patel", "Bose"], a: 1, s: 3 },
        { q: "States in India:", o: ["27", "28", "29", "30"], a: 1, s: 3 },
        { q: "Gas plants absorb:", o: ["O2", "N2", "CO2", "H2"], a: 2, s: 3 },
        { q: "National Bird of India:", o: ["Parrot", "Peacock", "Sparrow", "Eagle"], a: 1, s: 3 },
        { q: "Invented Telephone:", o: ["Edison", "Bell", "Tesla", "Einstein"], a: 1, s: 3 },
        { q: "Mount Everest location:", o: ["India", "Nepal", "Tibet", "Bhutan"], a: 1, s: 3 },
        { q: "Smallest Continent:", o: ["Europe", "Australia", "Antarctica", "S.America"], a: 1, s: 3 },
        { q: "Currency of Japan:", o: ["Yuan", "Won", "Yen", "Dollar"], a: 2, s: 3 },
        { q: "First PM of India:", o: ["Gandhi", "Nehru", "Shastri", "Indira"], a: 1, s: 3 },
        { q: "Longest River:", o: ["Amazon", "Nile", "Ganges", "Miss."], a: 1, s: 3 },
        { q: "Sun rises in the:", o: ["North", "South", "East", "West"], a: 2, s: 3 },
        { q: "Players in Cricket team:", o: ["10", "11", "12", "13"], a: 1, s: 3 },
        { q: "Vitamin from Sunlight:", o: ["A", "B", "C", "D"], a: 3, s: 3 },
        { q: "National Anthem writer:", o: ["Chatterjee", "Tagore", "Naidu", "Bharathi"], a: 1, s: 3 },
        { q: "Organ that pumps blood:", o: ["Brain", "Liver", "Heart", "Lungs"], a: 2, s: 3 },
        { q: "Great Wall built against:", o: ["Disasters", "Invasions", "Animals", "Floods"], a: 1, s: 3 },
        { q: "Fastest land animal:", o: ["Lion", "Tiger", "Cheetah", "Leopard"], a: 2, s: 3 },
        { q: "Independence Day (India):", o: ["Jan 26", "Aug 15", "Oct 2", "Nov 14"], a: 1, s: 3 },
        { q: "Statue of Liberty location:", o: ["London", "Paris", "New York", "DC"], a: 2, s: 3 }
    ];

    let currentQ = 0, userAnswers = [], timeLeft = 150 * 60, timer;

   window.onload = () => {
    if (localStorage.getItem(TEST_LOCK_KEY) === 'DONE') {
        document.body.innerHTML =
            "<h2 style='text-align:center;color:red;margin-top:40px;'>This test has already been completed.</h2>";
    }
};

function startInstructions() {
    const name = document.getElementById('user-name').value;
    if (!name) return alert("Name required!");
    localStorage.setItem("name", name);
    switchScreen('instruction-screen');
}

function startExam() {
    if (localStorage.getItem(TEST_LOCK_KEY) === 'DONE') {
        alert("This test has already been completed.");
        return;
    }

    switchScreen('exam-screen');
    render();

    timer = setInterval(() => {
        timeLeft--;
        let m = Math.floor(timeLeft / 60);
        let s = timeLeft % 60;
        document.getElementById('timer-display').innerText =
            `${m}:${s < 10 ? '0' : ''}${s}`;
        if (timeLeft <= 0) finish();
    }, 1000);
}
    function render() {
    const q = _db[currentQ];
    document.getElementById('section-label').innerHTML =
        `<span class="section-tag">${sections[q.s]}</span> Q${currentQ + 1}/125`;

    document.getElementById('progress-fill').style.width =
        `${(currentQ / 125) * 100}%`;

    document.getElementById('q-text').innerText = q.q;

    const diag = document.getElementById('diagram-area');
    diag.style.display = q.d ? 'block' : 'none';
    diag.innerHTML = q.d || '';

    const area = document.getElementById('options-area');
    area.innerHTML = '';

    q.o.forEach((opt, i) => {
        const d = document.createElement('div');
        d.className = 'option';
        d.innerText = opt;
        d.onclick = () => {
            userAnswers[currentQ] = i;
            currentQ++;
            if (currentQ < 125) render();
            else finish();
        };
        area.appendChild(d);
    });
}

    function finish() {
    clearInterval(timer);
    localStorage.setItem(TEST_LOCK_KEY, 'DONE');
    localStorage.setItem("ans", JSON.stringify(userAnswers));
    showResults();
}


    function showResults() {
    switchScreen('result-screen');
    document.getElementById('res-name').innerText =
        "Candidate: " + localStorage.getItem("name");

    let score = 0, breakdown = [0,0,0,0];
    const ans = JSON.parse(localStorage.getItem("ans") || "[]");

    _db.forEach((q, i) => {
        if (ans[i] === q.a) {
            let m = q.s === 0 ? 3 : 2;
            score += m;
            breakdown[q.s] += m;
        }
    });

    document.getElementById('res-score').innerText = score;
    document.getElementById('res-body').innerHTML =
        sections.map((s,i)=>`<tr><td>${s}</td><td>${breakdown[i]}</td></tr>`).join('');
}


    function switchScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}
</script>
</body>

</html>
